<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://seanshnkim.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://seanshnkim.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-02-13T01:49:43+00:00</updated><id>https://seanshnkim.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Semaphore vs. mutex</title><link href="https://seanshnkim.github.io/blog/2025/Semaphore-vs.-Mutex/" rel="alternate" type="text/html" title="Semaphore vs. mutex"/><published>2025-02-13T00:00:00+00:00</published><updated>2025-02-13T00:00:00+00:00</updated><id>https://seanshnkim.github.io/blog/2025/Semaphore%20vs.%20Mutex</id><content type="html" xml:base="https://seanshnkim.github.io/blog/2025/Semaphore-vs.-Mutex/"><![CDATA[]]></content><author><name></name></author><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Solutions for Priority Inversion</title><link href="https://seanshnkim.github.io/blog/2025/Solutions-for-Priority-Inversion-Priority-Ceiling-vs.-Priority-Inheritance/" rel="alternate" type="text/html" title="Solutions for Priority Inversion"/><published>2025-02-12T15:03:45+00:00</published><updated>2025-02-12T15:03:45+00:00</updated><id>https://seanshnkim.github.io/blog/2025/Solutions%20for%20Priority%20Inversion%20-%20Priority%20Ceiling%20vs.%20Priority%20Inheritance</id><content type="html" xml:base="https://seanshnkim.github.io/blog/2025/Solutions-for-Priority-Inversion-Priority-Ceiling-vs.-Priority-Inheritance/"><![CDATA[<h2 id="solution-1-priority-ceiling-inheritance">Solution 1: Priority Ceiling Inheritance</h2> <p>Fortunately, FreeRTOS provides a mechanism called priority inheritance to mitigate the effects of priority inversion.</p> <h3 id="how-does-priority-inheritance-work">How does priority inheritance work?</h3> <p>In priority inheritance, the program makes the priority of low priority task (LP Task) temporarily to that of high priority task. In this way, medium priority task cannot preempt the previous LP Task, and HP Task can access critical section as soon as LP Task releases the mutex.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
#include</span> <span class="cpf">"freertos/FreeRTOS.h"</span><span class="cp">
#include</span> <span class="cpf">"freertos/task.h"</span><span class="cp">
#include</span> <span class="cpf">"freertos/semphr.h"</span><span class="cp">
</span>
<span class="c1">// Mutex handle</span>
<span class="n">SemaphoreHandle_t</span> <span class="n">xMutex</span><span class="p">;</span>

<span class="c1">// Task A (High priority)</span>
<span class="kt">void</span> <span class="nf">taskA</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Task A (High priority) started</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="c1">// Attempt to take the mutex (wait indefinitely)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">xSemaphoreTake</span><span class="p">(</span><span class="n">xMutex</span><span class="p">,</span> <span class="n">portMAX_DELAY</span><span class="p">)</span> <span class="o">==</span> <span class="n">pdTRUE</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Simulate critical section</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Task A acquired the mutex and is working on the shared resource</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="mi">500</span> <span class="o">/</span> <span class="n">portTICK_PERIOD_MS</span><span class="p">);</span>  <span class="c1">// Simulate work (e.g., processing)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Task A finished its work and released the mutex</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

        <span class="c1">// Release the mutex</span>
        <span class="n">xSemaphoreGive</span><span class="p">(</span><span class="n">xMutex</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Task A is done</span>
    <span class="n">vTaskDelete</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Task B (Medium priority)</span>
<span class="kt">void</span> <span class="nf">taskB</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Task B (Medium priority) started</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="c1">// Simulate some work, but do not try to acquire the mutex</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Task B is doing some non-critical work</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="mi">300</span> <span class="o">/</span> <span class="n">portTICK_PERIOD_MS</span><span class="p">);</span>  <span class="c1">// Simulate work</span>
    <span class="p">}</span>

    <span class="c1">// Task B is done</span>
    <span class="n">vTaskDelete</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Task C (Low priority)</span>
<span class="kt">void</span> <span class="nf">taskC</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Task C (Low priority) started</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>


    <span class="n">xSemaphoreTake</span><span class="p">(</span><span class="n">xMutex</span><span class="p">,</span> <span class="n">portMAX_DELAY</span><span class="p">);</span>  <span class="c1">// Take the mutex</span>
        <span class="c1">// Simulate holding the mutex for a long time</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Task C is holding the mutex</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="c1">// Simulate work while holding the mutex</span>
    <span class="n">vTaskDelay</span><span class="p">(</span><span class="mi">2000</span> <span class="o">/</span> <span class="n">portTICK_PERIOD_MS</span><span class="p">);</span>  <span class="c1">// Simulate long critical section (holding mutex)</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Task C finished its work and is releasing the mutex</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="c1">// Release the mutex</span>
    <span class="n">xSemaphoreGive</span><span class="p">(</span><span class="n">xMutex</span><span class="p">);</span>

    <span class="c1">// Task C is done</span>
    <span class="n">vTaskDelete</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">app_main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Create the mutex with priority inheritance enabled by default</span>
    <span class="n">xMutex</span> <span class="o">=</span> <span class="n">xSemaphoreCreateMutex</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">xMutex</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Failed to create mutex</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="c1">// Create Task C (low priority)</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">taskC</span><span class="p">,</span> <span class="s">"Task C"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>  <span class="c1">// Priority 1 (Low priority)</span>


    <span class="c1">// Create Task A (high priority)</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">taskA</span><span class="p">,</span> <span class="s">"Task A"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>  <span class="c1">// Priority 3 (High priority)</span>

    <span class="c1">// Create Task B (medium priority)</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">taskB</span><span class="p">,</span> <span class="s">"Task B"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>  <span class="c1">// Priority 2 (Medium priority)</span>

<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div> <h2 id="priority-inheritance-cannot-cure-priority-inheritance">Priority inheritance cannot cure priority inheritance</h2> <p>It is important to note that FreeRTOS implemented priority inheritance in mutext API.</p> <p>But priority inheritance cannot cure priority inversion completely. In the following cases, priority inversion can still occur.</p> <h2 id="solution-2-priority-ceiling-protocol">Solution 2: Priority ceiling protocol</h2>]]></content><author><name></name></author><category term="RTOS"/><category term="priority-inversion"/><category term="priority-ceiling"/><category term="priority-inheritance"/><summary type="html"><![CDATA[Solution 1: Priority Ceiling Inheritance]]></summary></entry><entry><title type="html">Illustrated Priority Inversion</title><link href="https://seanshnkim.github.io/blog/2025/Illustrated-Priority-Inversion/" rel="alternate" type="text/html" title="Illustrated Priority Inversion"/><published>2025-02-11T12:38:07+00:00</published><updated>2025-02-11T12:38:07+00:00</updated><id>https://seanshnkim.github.io/blog/2025/Illustrated%20Priority%20Inversion</id><content type="html" xml:base="https://seanshnkim.github.io/blog/2025/Illustrated-Priority-Inversion/"><![CDATA[<h2 id="what-is-priority-inversion">What is Priority Inversion?</h2> <p>The definition of priority inversion is well-explained in Wikipedia:</p> <blockquote> <p>High priority task is indirectly preempted by a low (or medium) priority task.</p> </blockquote> <p>This should not happen because it is literally a “high priority” task which indicates that it should be executed before all the other lower priority tasks. In other words, priority inversion is a problematic situation and we have to prevent it.</p> <p>I will first demonstrate the concept with analogy and then with a simple program in C. Lastly, I will discuss solutions to priority inverison.</p> <h2 id="real-world-analogy-of-priority-inversion">Real-world Analogy of Priority Inversion</h2> <p>Assume there are three different tasks:</p> <ul> <li>High priority task (i.e. “HP Task”)</li> <li>Medium priority task (i.e. “MP Task”)</li> <li>Low priority task (i.e. “LP Task”)</li> </ul> <p>If there is no problem with a scheduler then HP Task should always be executed first, MP Task next, and at last LP Task.</p> <p>But then there is a “critical section”. Critical section is a part of a program or hardware that accesses a shared resource. Only one process (task) is allowed to access the critical section at one time. <a href="https://en.wikipedia.org/wiki/Critical_section">Wikipedia: Critical Section</a></p> <p>In this example, three different characters represent each task:</p> <ul> <li>HP Task = “Harry”</li> <li>MP Task = “Mary”</li> <li>LP Task = “Larry”</li> </ul> <h3 id="prerequisites">Prerequisites</h3> <p>Before walking through the example, there are some prerequisites to keep in mind:</p> <ol> <li>Only one person can stay in the house. This is because the processor core cannot accept more than one task.</li> </ol> <figure class="mt-5"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/single_thread1-480.webp 480w,/assets/post-attachments/single_thread1-800.webp 800w,/assets/post-attachments/single_thread1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/single_thread1.png" class="img-fluid rounded z-depth-1 center-image" width="350px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <ol> <li>Once a person starts using a pot, it cannot be interrupted or taken by other person until he is done with using it (even if the highest priority task requests using it!)</li> </ol> <figure class="mt-5"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/critical_section1-480.webp 480w,/assets/post-attachments/critical_section1-800.webp 800w,/assets/post-attachments/critical_section1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/critical_section1.png" class="img-fluid rounded z-depth-1 center-image" width="600px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <h3 id="1-lp-task-starts-first">1. LP Task starts first</h3> <p>Let’s start with Larry. Larry came home in the first place and decided to prepare breakfast for tomorrow. He uses a pot (critical section) in the kitchen. This is the only pot in the kitchen, so unless he is finished no one else can use it. We would assume that making breakfast for tomorrow is not urget, so it is a low priority task.</p> <div class="image-row"> <figure class="mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d1-480.webp 480w,/assets/post-attachments/d1-800.webp 800w,/assets/post-attachments/d1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d1.png" class="img-fluid rounded z-depth-1" width="300px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <figure class="mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d2-480.webp 480w,/assets/post-attachments/d2-800.webp 800w,/assets/post-attachments/d2-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d2.png" class="img-fluid rounded z-depth-1" width="150px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> </div> <h3 id="2-hp-task-tries-to-preempt-lp-task">2. HP Task “tries to” preempt LP Task</h3> <p>While Larry is cooking her food, Harry comes home (Remember, Harry cannot enter home right away. He would have to wait in front of the door).</p> <figure class="mt-5"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d3-480.webp 480w,/assets/post-attachments/d3-800.webp 800w,/assets/post-attachments/d3-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d3.png" class="img-fluid rounded z-depth-1 center-image" width="300px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <h3 id="3-hp-task-is-blocked">3. HP Task is blocked</h3> <p>Because Harry needs to eat lunch before the class, and he was going to make pasta. (Pasta needs a pot to boil it) Harry shouts to the kitchen, “I need to cook!” Obviously Harry’s task has higher priority, but he cannot take away Larry’s pot. That’s why Harry has to wait in front of the house, not being able to start cooking (“<strong>blocked</strong>” state).</p> <figure class="mt-5"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d4-480.webp 480w,/assets/post-attachments/d4-800.webp 800w,/assets/post-attachments/d4-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d4.png" class="img-fluid rounded z-depth-1 center-image" width="300px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <h3 id="4-mp-task-preempts-lp-task">4. MP Task preempts LP Task</h3> <p>Afterwards, Mary comes in. Mary came home to clean the house, because she has a guest coming in the evening. This task priority is higher than cooking for tomorrow, but less than Harry’s. But because she is not using the pot, and because her task has higher priority than Larry’s she enters home and kicks out Larry.</p> <div class="image-row"> <figure class="mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d5-480.webp 480w,/assets/post-attachments/d5-800.webp 800w,/assets/post-attachments/d5-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d5.png" class="img-fluid rounded z-depth-1" width="250px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <figure class="mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/d6-480.webp 480w,/assets/post-attachments/d6-800.webp 800w,/assets/post-attachments/d6-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/d6.png" class="img-fluid rounded z-depth-1" width="300px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> </div> <p>Now, Harry is frustrated. His task was the most urgent one, but turns out that Mary is now in the house instead!</p> <figure class="mt-5"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/post-attachments/task_table-480.webp 480w,/assets/post-attachments/task_table-800.webp 800w,/assets/post-attachments/task_table-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/post-attachments/task_table.png" class="img-fluid rounded z-depth-1 center-image" width="700px" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </figure> <h2 id="why-does-priority-inversion-matter-in-rtos">Why does priority inversion matter in RTOS?</h2> <p>In RTOS, it is crucial to schedule tasks so that they have a certain limit of deadline. The priority of each task must be carried out in order.</p> <h2 id="demo">Demo</h2> <p>Here is source code that can be run in STM32F4xx device:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">"freertos/FreeRTOS.h"</span><span class="cp">
#include</span> <span class="cpf">"freertos/task.h"</span><span class="cp">
#include</span> <span class="cpf">"freertos/semphr.h"</span><span class="cp">
</span>
<span class="n">SemaphoreHandle_t</span> <span class="n">mutex</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">lowPriorityTask</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">xSemaphoreTake</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span> <span class="n">portMAX_DELAY</span><span class="p">);</span>
        <span class="c1">// Simulate work</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">2000</span><span class="p">));</span>
        <span class="n">xSemaphoreGive</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">mediumPriorityTask</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Simulate work</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">3000</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">highPriorityTask</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">pvParameters</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">xSemaphoreTake</span><span class="p">(</span><span class="n">mutex</span><span class="p">,</span> <span class="n">portMAX_DELAY</span><span class="p">);</span>
        <span class="c1">// Critical section</span>
        <span class="n">xSemaphoreGive</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
        <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">5000</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">app_main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">mutex</span> <span class="o">=</span> <span class="n">xSemaphoreCreateMutex</span><span class="p">();</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">lowPriorityTask</span><span class="p">,</span> <span class="s">"Low"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">mediumPriorityTask</span><span class="p">,</span> <span class="s">"Medium"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
    <span class="n">xTaskCreate</span><span class="p">(</span><span class="n">highPriorityTask</span><span class="p">,</span> <span class="s">"High"</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>In the next post, I will discuss several solutions for priority inversion.</p> <h2 id="references">References</h2> <ul> <li>https://en.wikipedia.org/wiki/Priority_inversion</li> <li>https://www.embedded.com/how-to-use-priority-inheritance/</li> <li>https://www.foxipex.com/2024/11/08/priority-inversion-and-priority-inheritance-in-freertos/</li> <li>https://www.highintegritysystems.com/downloads/RTOS_Tutorials/Priority_Inversion.pdf</li> <li>https://www.freertos.org/Documentation/02-Kernel/02-Kernel-features/02-Queues-mutexes-and-semaphores/04-Mutexes</li> <li>https://www.geeksforgeeks.org/difference-between-priority-inversion-and-priority-inheritance/</li> </ul>]]></content><author><name></name></author><category term="RTOS"/><category term="priority-inversion"/><summary type="html"><![CDATA[What is Priority Inversion?]]></summary></entry></feed>